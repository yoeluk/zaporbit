// Generated by CoffeeScript 1.7.1
(function() {
  "use strict";
  angular.module("ZapOrbit.services", []).factory("LocationService", [
    function() {
      var coords, getLocation;
      coords = void 0;
      return getLocation = function(callback) {
        var displayError, displayPosition, timeoutVal;
        displayPosition = function(position) {
          coords = position.coords;
          return callback(coords);
        };
        displayError = function(error) {
          var errors;
          errors = {
            1: 'Permission denied',
            2: 'Position unavailable',
            3: 'Request timeout'
          };
          return console.log("Error: " + errors[error.code]);
        };
        if (!coords) {
          if (navigator.geolocation) {
            timeoutVal = 10 * 1000 * 1000;
            return navigator.geolocation.getCurrentPosition(displayPosition, displayError, {
              enableHighAccuracy: true,
              timeout: timeoutVal,
              maximumAge: 1
            });
          } else {
            return console.log("geolocation not supported");
          }
        } else {
          return callback(coords);
        }
      };
    }
  ]).value("version", "0.1");

}).call(this);

//# sourceMappingURL=services.map
